{"version":3,"sources":["../../../../../../assets/cases/05_scripting/03_events/assets/cases/05_scripting/03_events/MouseDragger.js"],"names":["TouchDragger","cc","Class","extends","Component","properties","propagate","default","onLoad","_down","node","opacity","on","Node","EventType","MOUSE_DOWN","log","event","stopPropagation","MOUSE_MOVE","delta","getDelta","x","y","MOUSE_LEAVE","MOUSE_UP"],"mappings":";;;;;;AAAA,IAAIA,eAAeC,GAAGC,KAAH,CAAS;AACxBC,aAASF,GAAGG,SADY;;AAGxBC,gBAAY;AACRC,mBAAW;AACPC,qBAAS;AADF;AAGX;AAJQ,KAHY;;AAUxB;AACAC,YAAQ,kBAAY;AAChB,aAAKC,KAAL,GAAa,KAAb;AACA,aAAKC,IAAL,CAAUC,OAAV,GAAoB,GAApB;AACA,aAAKD,IAAL,CAAUE,EAAV,CAAaX,GAAGY,IAAH,CAAQC,SAAR,CAAkBC,UAA/B,EAA2C,YAAY;AACnDd,eAAGe,GAAH,CAAO,iBAAP;AACA,iBAAKN,IAAL,CAAUC,OAAV,GAAoB,GAApB;AACA,iBAAKF,KAAL,GAAa,IAAb;AACA,gBAAI,CAAC,KAAKH,SAAV,EACIW,MAAMC,eAAN;AACP,SAND,EAMG,IANH;AAOA,aAAKR,IAAL,CAAUE,EAAV,CAAaX,GAAGY,IAAH,CAAQC,SAAR,CAAkBK,UAA/B,EAA2C,UAAUF,KAAV,EAAiB;AACxD,gBAAI,CAAC,KAAKR,KAAV,EAAiB;AACbQ,sBAAMC,eAAN;AACA;AACH;AACD,iBAAKR,IAAL,CAAUC,OAAV,GAAoB,GAApB;AACA,gBAAIS,QAAQH,MAAMI,QAAN,EAAZ;AACA,iBAAKX,IAAL,CAAUY,CAAV,IAAeF,MAAME,CAArB;AACA,iBAAKZ,IAAL,CAAUa,CAAV,IAAeH,MAAMG,CAArB;AACA,gBAAI,CAAC,KAAKjB,SAAV,EACIW,MAAMC,eAAN;AACP,SAXD,EAWG,IAXH;AAYA,aAAKR,IAAL,CAAUE,EAAV,CAAaX,GAAGY,IAAH,CAAQC,SAAR,CAAkBU,WAA/B,EAA4C,YAAY;AACpD,gBAAI,CAAC,KAAKf,KAAV,EAAiB;AACbQ,sBAAMC,eAAN;AACA;AACH;AACD,iBAAKR,IAAL,CAAUC,OAAV,GAAoB,GAApB;AACAV,eAAGe,GAAH,CAAO,gBAAP;AACA,iBAAKP,KAAL,GAAa,KAAb;AACH,SARD,EAQG,IARH;AASA,aAAKC,IAAL,CAAUE,EAAV,CAAaX,GAAGY,IAAH,CAAQC,SAAR,CAAkBW,QAA/B,EAAyC,YAAY;AACjD,gBAAI,CAAC,KAAKhB,KAAV,EAAiB;AACbQ,sBAAMC,eAAN;AACA;AACH;AACDjB,eAAGe,GAAH,CAAO,eAAP;AACA,iBAAKN,IAAL,CAAUC,OAAV,GAAoB,GAApB;AACA,iBAAKF,KAAL,GAAa,KAAb;AACH,SARD,EAQG,IARH;AASH;AAnDuB,CAAT,CAAnB","file":"MouseDragger.js","sourceRoot":"../../../../../../assets/cases/05_scripting/03_events","sourcesContent":["var TouchDragger = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        propagate: {\n            default: false\n        },\n        // ...\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        this._down = false;\n        this.node.opacity = 160;\n        this.node.on(cc.Node.EventType.MOUSE_DOWN, function () {\n            cc.log('Drag stated ...');\n            this.node.opacity = 255;\n            this._down = true;\n            if (!this.propagate)\n                event.stopPropagation();\n        }, this);\n        this.node.on(cc.Node.EventType.MOUSE_MOVE, function (event) {\n            if (!this._down) {\n                event.stopPropagation();\n                return\n            }\n            this.node.opacity = 255;\n            var delta = event.getDelta();\n            this.node.x += delta.x;\n            this.node.y += delta.y;\n            if (!this.propagate)\n                event.stopPropagation();\n        }, this);\n        this.node.on(cc.Node.EventType.MOUSE_LEAVE, function () {\n            if (!this._down) {\n                event.stopPropagation();\n                return\n            }\n            this.node.opacity = 160;\n            cc.log('Drag leave ...');\n            this._down = false;\n        }, this);\n        this.node.on(cc.Node.EventType.MOUSE_UP, function () {\n            if (!this._down) {\n                event.stopPropagation();\n                return\n            }\n            cc.log('Drag done ...');\n            this.node.opacity = 160;\n            this._down = false;\n        }, this);\n    },\n});"]}