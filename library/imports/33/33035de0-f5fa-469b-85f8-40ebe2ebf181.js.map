{"version":3,"sources":["../../../../../../assets/cases/anysdk/05_analytics/assets/cases/anysdk/05_analytics/Analytics.js"],"names":["SuspensionTips","require","cc","Class","extends","properties","start","hasSupport","analyticsPlugin","anysdk","agentManager","getAnalyticsPlugin","startSession","init","showTips","stopSession","setSessionContinueMillis","logError","logEvent","eventID","paramMap","logTimedEventBegin","logTimedEventEnd","setAccount","AccountType","ANONYMOUS","toString","AccountOperate","LOGIN","AccountGender","MALE","onChargeRequest","onChargeOnlySuccess","onChargeSuccess","onChargeFail","onPurchase","getChannelId","onUse","onReward","startLevel","finishLevel","failLevel","startTask","TaskType","GUIDE_LINE","finishTask","failTask"],"mappings":"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","file":"Analytics.js","sourceRoot":"../../../../../../assets/cases/anysdk/05_analytics","sourcesContent":["const SuspensionTips = require('SuspensionTips');\ncc.Class({\n\textends: require('BaseAnySDKExample'),\n\n\tproperties: {},\n\n\tstart: function () {\n\t\tif (this.hasSupport()) {\n\t\t\tthis.analyticsPlugin = anysdk.agentManager.getAnalyticsPlugin();\n\t\t}\n\t},\n\n\tstartSession: function () {\n\t\tif (!this.analyticsPlugin) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null ');\n\t\t\treturn;\n\t\t}\n\t\tthis.analyticsPlugin.startSession();\n\n\t},\n\n\tstopSession: function () {\n\t\tif (!this.analyticsPlugin) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null ');\n\t\t\treturn;\n\t\t}\n\t\tthis.analyticsPlugin.stopSession();\n\t},\n\n\tsetSessionContinueMillis: function () {\n\t\tif (!this.analyticsPlugin) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null ');\n\t\t\treturn;\n\t\t}\n\t\tthis.analyticsPlugin.setSessionContinueMillis(100);\n\n\t},\n\n\tlogError: function () {\n\t\tif (!this.analyticsPlugin) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null ');\n\t\t\treturn;\n\t\t}\n\t\tthis.analyticsPlugin.logError('error', 'errMsg');\n\t},\n\n\tlogEvent: function (eventID, paramMap) {\n\t\tif (!this.analyticsPlugin) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null ');\n\t\t\treturn;\n\t\t}\n\t\tthis.analyticsPlugin.logEvent('error');\n\t\tthis.analyticsPlugin.logEvent('error', {'errMsg': 'errMsg'});\n\t},\n\n\tlogTimedEventBegin: function () {\n\t\tif (!this.analyticsPlugin) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null ');\n\t\t\treturn;\n\t\t}\n\t\tthis.analyticsPlugin.logTimedEventBegin('errorbegin');\n\t},\n\n\tlogTimedEventEnd: function () {\n\t\tif (!this.analyticsPlugin) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null ');\n\t\t\treturn;\n\t\t}\n\t\tthis.analyticsPlugin.logTimedEventEnd('errorend');\n\t},\n\n\tsetAccount: function () {\n\t\tif (!this.analyticsPlugin || !this.analyticsPlugin.setAccount) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null or setAccount is not support ');\n\t\t\treturn;\n\t\t}\n\t\tvar paramMap = {\n\t\t\t'Account_Id': '123456',\n\t\t\t'Account_Name': 'test',\n\t\t\t'Account_Type': (anysdk.AccountType.ANONYMOUS).toString(),\n\t\t\t'Account_Level': '1',\n\t\t\t'Account_Age': '1',\n\t\t\t'Account_Operate': (anysdk.AccountOperate.LOGIN).toString(),\n\t\t\t'Account_Gender': (anysdk.AccountGender.MALE).toString(),\n\t\t\t'Server_Id': '1'\n\t\t};\n\t\tthis.analyticsPlugin.setAccount(paramMap);\n\t},\n\n\tonChargeRequest: function () {\n\t\tif (!this.analyticsPlugin || !this.analyticsPlugin.onChargeRequest) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null or onChargeRequest is not support ');\n\t\t\treturn;\n\t\t}\n\t\tvar paramMap = {\n\t\t\t'Order_Id': '123456',\n\t\t\t'Product_Name': 'test',\n\t\t\t'Currency_Amount': '2.0',\n\t\t\t'Currency_Type': 'CNY',\n\t\t\t'Payment_Type': '渠道',\n\t\t\t'Virtual_Currency_Amount': '100'\n\t\t};\n\t\tthis.analyticsPlugin.onChargeRequest(paramMap);\n\t},\n\n\tonChargeOnlySuccess: function () {\n\t\tif (!this.analyticsPlugin || !this.analyticsPlugin.onChargeOnlySuccess) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null or onChargeOnlySuccess is not support ');\n\t\t\treturn;\n\t\t}\n\t\tvar paramMap = {\n\t\t\t'Order_Id': '123456',\n\t\t\t'Product_Name': 'test',\n\t\t\t'Currency_Amount': '2.0',\n\t\t\t'Currency_Type': '1',\n\t\t\t'Payment_Type': '1',\n\t\t\t'Virtual_Currency_Amount': '100'\n\t\t};\n\t\tthis.analyticsPlugin.onChargeOnlySuccess(paramMap);\n\t},\n\n\tonChargeSuccess: function () {\n\t\tif (!this.analyticsPlugin || !this.analyticsPlugin.onChargeSuccess) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null or onChargeSuccess is not support ');\n\t\t\treturn;\n\t\t}\n\t\tthis.analyticsPlugin.onChargeSuccess('123456');\n\t},\n\n\tonChargeFail: function () {\n\t\tif (!this.analyticsPlugin || !this.analyticsPlugin.onChargeFail) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null or onChargeFail is not support ');\n\t\t\treturn;\n\t\t}\n\t\tvar paramMap = {\n\t\t\t'Order_Id': '123456',\n\t\t\t'Fail_Reason': 'test'\n\t\t};\n\t\tthis.analyticsPlugin.onChargeFail(paramMap);\n\t},\n\n\tonPurchase: function () {\n\t\tif (!this.analyticsPlugin || !this.analyticsPlugin.onPurchase) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null or onPurchase is not support ');\n\t\t\treturn;\n\t\t}\n\t\tvar paramMap = {\n\t\t\t'Item_Id': '123456',\n\t\t\t'Item_Type': 'test',\n\t\t\t'Item_Count': '2',\n\t\t\t'Virtual_Currency': '1',\n\t\t\t'Currency_Type': anysdk.agentManager.getChannelId()\n\t\t};\n\t\tthis.analyticsPlugin.onPurchase(paramMap);\n\t},\n\n\tonUse: function () {\n\t\tif (!this.analyticsPlugin || !this.analyticsPlugin.onUse) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null or onUse is not support ');\n\t\t\treturn;\n\t\t}\n\t\tvar paramMap = {\n\t\t\t'Item_Id': '123456',\n\t\t\t'Item_Type': 'test',\n\t\t\t'Item_Count': '2',\n\t\t\t'Use_Reason': '1'\n\t\t};\n\t\tthis.analyticsPlugin.onUse(paramMap);\n\t},\n\n\tonReward: function () {\n\t\tif (!this.analyticsPlugin || !this.analyticsPlugin.onReward) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null or onReward is not support ');\n\t\t\treturn;\n\t\t}\n\t\tvar paramMap = {\n\t\t\t'Item_Id': '123456',\n\t\t\t'Item_Type': 'test',\n\t\t\t'Item_Count': '2',\n\t\t\t'Use_Reason': '1'\n\t\t};\n\t\tthis.analyticsPlugin.onReward(paramMap);\n\t},\n\n\tstartLevel: function () {\n\t\tif (!this.analyticsPlugin || !this.analyticsPlugin.startLevel) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null or startLevel is not support ');\n\t\t\treturn;\n\t\t}\n\t\tvar paramMap = {\n\t\t\t'Level_Id': '123456',\n\t\t\t'Seq_Num': '1'\n\t\t};\n\t\tthis.analyticsPlugin.startLevel(paramMap);\n\t},\n\n\tfinishLevel: function () {\n\t\tif (!this.analyticsPlugin || !this.analyticsPlugin.finishLevel) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null or finishLevel is not support ');\n\t\t\treturn;\n\t\t}\n\t\tthis.analyticsPlugin.finishLevel('123456');\n\t},\n\n\tfailLevel: function () {\n\t\tif (!this.analyticsPlugin || !this.analyticsPlugin.failLevel) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null or failLevel is not support ');\n\t\t\treturn;\n\t\t}\n\t\tvar paramMap = {\n\t\t\t'Level_Id': '123456',\n\t\t\t'Fail_Reason': 'test'\n\t\t};\n\t\tthis.analyticsPlugin.failLevel(paramMap);\n\t},\n\n\tstartTask: function () {\n\t\tif (!this.analyticsPlugin || !this.analyticsPlugin.startTask) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null or startTask is not support ');\n\t\t\treturn;\n\t\t}\n\t\tvar paramMap = {\n\t\t\t'Task_Id': '123456',\n\t\t\t'Task_Type': (anysdk.TaskType.GUIDE_LINE).toString()\n\t\t};\n\t\tthis.analyticsPlugin.startTask(paramMap);\n\t},\n\n\tfinishTask: function () {\n\t\tif (!this.analyticsPlugin || !this.analyticsPlugin.finishTask) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null or finishTask is not support ');\n\t\t\treturn;\n\t\t}\n\t\tthis.analyticsPlugin.finishTask('123456');\n\t},\n\n\tfailTask: function () {\n\t\tif (!this.analyticsPlugin || !this.analyticsPlugin.failTask) {\n\t\t\tSuspensionTips.init.showTips(' this.analyticsPlugin is null or failTask is not support ');\n\t\t\treturn;\n\t\t}\n\t\tvar paramMap = {\n\t\t\t'Task_Id': '123456',\n\t\t\t'Fail_Reason': 'test'\n\t\t};\n\t\tthis.analyticsPlugin.failTask(paramMap);\n\t}\n\n});\n"]}