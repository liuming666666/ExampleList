{"version":3,"sources":["AdTracking.js"],"names":["SuspensionTips","require","cc","Class","extends","properties","start","hasSupport","adTrackingPlugin","anysdk","agentManager","getAdTrackingPlugin","onRegister","init","showTips","onLogin","info","onPay","myDate","Date","toLocaleTimeString","trackEvent","onCreateRole","onLevelUp","onStartToPay"],"mappings":"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","file":"AdTracking.js","sourceRoot":"../../../../../../assets/cases/anysdk/08_adtracking","sourcesContent":["const SuspensionTips = require('SuspensionTips');\ncc.Class({\n\textends: require('BaseAnySDKExample'),\n\n\tproperties: {},\n\n\tstart: function () {\n\t\tif (this.hasSupport()) {\n\t\t\tthis.adTrackingPlugin = anysdk.agentManager.getAdTrackingPlugin();\n\t\t}\n\t},\n\n\tonRegister: function () {\n\t\tif (!this.adTrackingPlugin) {\n\t\t\tSuspensionTips.init.showTips(' this.adTrackingPlugin is null ');\n\t\t\treturn;\n\t\t}\n\t\tthis.adTrackingPlugin.onRegister(\"userid\");\n\t},\n\n\tonLogin: function () {\n\t\tif (!this.adTrackingPlugin) {\n\t\t\tSuspensionTips.init.showTips(' this.adTrackingPlugin is null ');\n\t\t\treturn;\n\t\t}\n\t\tvar info = {\n\t\t\t\"User_Id\": \"123456\",\n\t\t\t\"Role_Id\": \"test\",\n\t\t\t\"Role_Name\": \"test\"\n\t\t};\n\t\tthis.adTrackingPlugin.onLogin(info);\n\t},\n\n\tonPay: function () {\n\t\tif (!this.adTrackingPlugin) {\n\t\t\tSuspensionTips.init.showTips(' this.adTrackingPlugin is null ');\n\t\t\treturn;\n\t\t}\n\t\tvar myDate = new Date();\n\t\tvar info = {\n\t\t\t\"User_Id\": \"123456\",\n\t\t\t\"Order_Id\": myDate.toLocaleTimeString(),\n\t\t\t\"Currency_Amount\": \"5\",\n\t\t\t\"Currency_Type\": \"CNY\",\n\t\t\t\"Payment_Type\": \"test\",\n\t\t\t\"Payment_Time\": myDate.toLocaleTimeString()\n\t\t};\n\t\tthis.adTrackingPlugin.onPay(info);\n\t},\n\n\ttrackEvent: function () {\n\t\tif (!this.adTrackingPlugin) {\n\t\t\tSuspensionTips.init.showTips(' this.adTrackingPlugin is null ');\n\t\t\treturn;\n\t\t}\n\t\tthis.adTrackingPlugin.trackEvent(\"event_1\");\n\t\tthis.adTrackingPlugin.trackEvent(\"event_2\");\n\t},\n\n\tonCreateRole: function () {\n\t\tif (!this.adTrackingPlugin || !this.adTrackingPlugin.onCreateRole) {\n\t\t\tSuspensionTips.init.showTips(' this.adTrackingPlugin is null or onCreateRole is not supported ');\n\t\t\treturn;\n\t\t}\n\t\tvar info = {\n\t\t\t\"User_Id\": \"123456\",\n\t\t\t\"Role_Id\": \"test\",\n\t\t\t\"Role_Name\": \"test\"\n\t\t};\n\t\tthis.adTrackingPlugin.trackEvent(\"onCreateRole\", info);\n\t},\n\n\tonLevelUp: function () {\n\t\tif (!this.adTrackingPlugin || !this.adTrackingPlugin.onLevelUp) {\n\t\t\tSuspensionTips.init.showTips(' this.adTrackingPlugin is null  or onLevelUp is not supported');\n\t\t\treturn;\n\t\t}\n\t\tvar info = {\n\t\t\t\"User_Id\": \"123456\",\n\t\t\t\"Role_Id\": \"test\",\n\t\t\t\"Role_Name\": \"test\",\n\t\t\t\"Level\": \"10\"\n\t\t};\n\t\tthis.adTrackingPlugin.trackEvent(\"onLevelUp\", info);\n\t},\n\n\tonStartToPay: function () {\n\t\tif (!this.adTrackingPlugin || !this.adTrackingPlugin.onStartToPay) {\n\t\t\tSuspensionTips.init.showTips(' this.adTrackingPlugin is null or onStartToPay is not supported');\n\t\t\treturn;\n\t\t}\n\t\tvar myDate = new Date();\n\t\tvar info = {\n\t\t\t\"User_Id\": \"123456\",\n\t\t\t\"Order_Id\": myDate.toLocaleTimeString(),\n\t\t\t\"Currency_Amount\": \"5\",\n\t\t\t\"Currency_Type\": \"CNY\",\n\t\t\t\"Payment_Type\": \"test\",\n\t\t\t\"Payment_Time\": myDate.toLocaleTimeString()\n\t\t};\n\t\tthis.adTrackingPlugin.trackEvent(\"onStartToPay\", info);\n\t}\n\n});\n"]}