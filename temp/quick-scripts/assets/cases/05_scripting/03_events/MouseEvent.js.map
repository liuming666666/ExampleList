{"version":3,"sources":["MouseEvent.js"],"names":["cc","Class","extends","Component","properties","move","event","node","x","getDeltaX","y","getDeltaY","onLoad","scroll","opacity","on","Node","EventType","MOUSE_DOWN","MOUSE_MOVE","MOUSE_ENTER","MOUSE_LEAVE","off","MOUSE_UP","_callback","MOUSE_WHEEL","getScrollY","h","height","clampf","scale"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATQ,KAHP;;AAeLC,UAAM,cAAUC,KAAV,EAAiB;AACnB,aAAKC,IAAL,CAAUC,CAAV,IAAeF,MAAMG,SAAN,EAAf;AACA,aAAKF,IAAL,CAAUG,CAAV,IAAeJ,MAAMK,SAAN,EAAf;AACH,KAlBI;;AAoBL;AACAC,YAAQ,kBAAY;AAChB,aAAKC,MAAL,GAAc,CAAd;AACA,aAAKN,IAAL,CAAUO,OAAV,GAAoB,EAApB;AACA,aAAKP,IAAL,CAAUQ,EAAV,CAAaf,GAAGgB,IAAH,CAAQC,SAAR,CAAkBC,UAA/B,EAA2C,YAAY;AACnD,iBAAKX,IAAL,CAAUO,OAAV,GAAoB,GAApB;AACA,iBAAKP,IAAL,CAAUQ,EAAV,CAAaf,GAAGgB,IAAH,CAAQC,SAAR,CAAkBE,UAA/B,EAA2C,KAAKd,IAAhD,EAAsD,IAAtD;AACH,SAHD,EAGG,IAHH;AAIA,aAAKE,IAAL,CAAUQ,EAAV,CAAaf,GAAGgB,IAAH,CAAQC,SAAR,CAAkBG,WAA/B,EAA4C,YAAY;AACpD,iBAAKb,IAAL,CAAUO,OAAV,GAAoB,GAApB;AACH,SAFD,EAEG,IAFH;AAGA,aAAKP,IAAL,CAAUQ,EAAV,CAAaf,GAAGgB,IAAH,CAAQC,SAAR,CAAkBI,WAA/B,EAA4C,YAAY;AACpD,iBAAKd,IAAL,CAAUO,OAAV,GAAoB,EAApB;AACA,iBAAKP,IAAL,CAAUe,GAAV,CAActB,GAAGgB,IAAH,CAAQC,SAAR,CAAkBE,UAAhC,EAA4C,KAAKd,IAAjD,EAAuD,IAAvD;AACH,SAHD,EAGG,IAHH;AAIA,aAAKE,IAAL,CAAUQ,EAAV,CAAaf,GAAGgB,IAAH,CAAQC,SAAR,CAAkBM,QAA/B,EAAyC,YAAY;AACjD,iBAAKhB,IAAL,CAAUO,OAAV,GAAoB,EAApB;AACA,iBAAKP,IAAL,CAAUe,GAAV,CAActB,GAAGgB,IAAH,CAAQC,SAAR,CAAkBE,UAAhC,EAA4C,KAAKd,IAAjD,EAAuD,IAAvD;AACA,gBAAI,KAAKmB,SAAT,EAAoB;AAChB,qBAAKA,SAAL;AACH;AACJ,SAND,EAMG,IANH;AAOA,aAAKjB,IAAL,CAAUQ,EAAV,CAAaf,GAAGgB,IAAH,CAAQC,SAAR,CAAkBQ,WAA/B,EAA4C,UAAUnB,KAAV,EAAiB;AACzD,iBAAKO,MAAL,IAAeP,MAAMoB,UAAN,EAAf;AACA,gBAAIC,IAAI,KAAKpB,IAAL,CAAUqB,MAAlB;AACA,iBAAKf,MAAL,GAAcb,GAAG6B,MAAH,CAAU,KAAKhB,MAAf,EAAuB,CAAC,CAAD,GAAKc,CAA5B,EAA+B,MAAMA,CAArC,CAAd;AACA,iBAAKpB,IAAL,CAAUuB,KAAV,GAAkB,IAAI,KAAKjB,MAAL,GAAYc,CAAlC;AACH,SALD,EAKG,IALH;AAMH;AAhDI,CAAT","file":"MouseEvent.js","sourceRoot":"../../../../../../assets/cases/05_scripting/03_events","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //    default: null,\n        //    url: cc.Texture2D,  // optional, default is typeof default\n        //    serializable: true, // optional, default is true\n        //    visible: true,      // optional, default is true\n        //    displayName: 'Foo', // optional\n        //    readonly: false,    // optional, default is false\n        // },\n        // ...\n    },\n    \n    move: function (event) {\n        this.node.x += event.getDeltaX();\n        this.node.y += event.getDeltaY();\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        this.scroll = 0;\n        this.node.opacity = 50;\n        this.node.on(cc.Node.EventType.MOUSE_DOWN, function () {\n            this.node.opacity = 255;\n            this.node.on(cc.Node.EventType.MOUSE_MOVE, this.move, this);\n        }, this);\n        this.node.on(cc.Node.EventType.MOUSE_ENTER, function () {\n            this.node.opacity = 160;\n        }, this);\n        this.node.on(cc.Node.EventType.MOUSE_LEAVE, function () {\n            this.node.opacity = 50;\n            this.node.off(cc.Node.EventType.MOUSE_MOVE, this.move, this);\n        }, this);\n        this.node.on(cc.Node.EventType.MOUSE_UP, function () {\n            this.node.opacity = 50;\n            this.node.off(cc.Node.EventType.MOUSE_MOVE, this.move, this);\n            if (this._callback) {\n                this._callback();\n            }\n        }, this);\n        this.node.on(cc.Node.EventType.MOUSE_WHEEL, function (event) {\n            this.scroll += event.getScrollY();\n            var h = this.node.height;\n            this.scroll = cc.clampf(this.scroll, -2 * h, 0.7 * h);\n            this.node.scale = 1 - this.scroll/h;\n        }, this);\n    },\n});\n"]}